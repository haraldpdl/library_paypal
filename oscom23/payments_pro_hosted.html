<h1>Payments Pro (Hosted Solution) <small>v1.0<br />for osCommerce Online Merchant v2.3</small></h1>

<p>PayPal Payments Pro (Hosted Solution) allows credit and debit cards to be accepted directly on your online store during the checkout flow without the customer having to leave the site.</p>

<p>PayPal Payments Pro (Hosted Solution) is bundled with osCommerce Online Merchant and is also available as a separate Add-On package existing store owners can use to upgrade to.</p>

<p>The PayPal Payments Pro (Hosted Solution) payment module supports the following features:</p>

<ul>
  <li>Process credit and debit cards directly during the checkout flow</li>
  <li>Authorization and Sale transaction methods</li>
  <li>SSL Certificate verified transactions</li>
  <li>Sandbox server to perform test transactions</li>
</ul>

<h2>Features</h2>

<h3>SSL Certificate Verified Transactions</h3>

<p>All secured API transaction calls sent to PayPal are performed by verifying PayPal's SSL certificates to guarantee the identity of PayPal. This is performed by using the following public keys in order if they are available:</p>

<ul>
  <li>ext/modules/payment/paypal/paypal.com.crt</li>
  <li>includes/cacert.pem (public key bundle)</li>
  <li>the web server configured public key bundle</li>
</ul>

<p>A test connection link is available on the payment module configuration page which can be used to test if API transaction calls to PayPal can be verified from your web server. If the test connection fails, please contact your hosting provider as they may need to update your web server configuration. The SSL certificate verification can also be disabled on the payment module configuration page however it is highly discouraged to disable.</p>

<div class="alert">Some web hosting providers require a curl proxy to be used which can be configured on the payment module configuration page.</div>

<h2>Configuration Settings</h2>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Enable PayPal Payments Pro (Hosted Solution)</td>
      <td>Setting this parameter to <em>True</em> makes the payment method available to customers during the checkout flow. The credit and debit card information is entered on the checkout confirmation page.</td>
      <td><em>True</em></td>
    </tr>
    <tr>
      <td>API Username</td>
      <td>The username to use for the PayPal API service. This is tied to your PayPal seller e-mail address profile to accept payments for.</td>
      <td></td>
    </tr>
    <tr>
      <td>API Password</td>
      <td>The password to use for the PayPal API service.</td>
      <td></td>
    </tr>
    <tr>
      <td>API Signature</td>
      <td>The signature to use for the PayPal API service.</td>
      <td></td>
    </tr>
    <tr>
      <td>Seller E-Mail Address</td>
      <td>The PayPal seller account e-mail address to accept payments for.</td>
      <td></td>
    </tr>
    <tr>
      <td>Primary E-Mail Address</td>
      <td>The primary PayPal seller account e-mail address for when multiple PayPal e-mail addresses have been setup with the account. This is used to verify the IPN with and can be left empty.</td>
      <td></td>
    </tr>
    <tr>
      <td>Transaction Method</td>
      <td>
        The transaction method to use for payment transactions.<br /><br />
        The <em>Authorization</em> method only authorizes the transaction which can be captured up to 29 days later, and must be captured through your PayPal account page.<br /><br />
        The <em>Sale</em> method instantly transfers the funds to your PayPal account.
      </td>
      <td><em>Sale</em></td>
    </tr>
    <tr>
      <td>Set Preparing Order Status</td>
      <td>
        The customers order is saved in the database on the checkout confirmation page before the customer is forwarded to PayPal if they chose PayPal as their payment method. The order is saved in the database with this defined order status.<br /><br />
        The order status is updated again when the customer finalizes the payment transaction at PayPal and returns to the store with the link provided by PayPal. The order status is also updated when the Instant Payment Notification from PayPal is received.<br /><br />
        If the customer does not finalize the payment transaction at PayPal, the order remains in the database with this order status and can be removed after a period of time.
      </td>
      <td><em>Preparing [PayPal Pro HS]</em></td>
    </tr>
    <tr>
      <td>Set PayPal Acknowledged Order Status</td>
      <td>The orders status will be updated to this value when the customer returns back to the store after payment has been made at PayPal or when the Instant Payment Notification is received and the order has been verified.</td>
      <td><em>Default Order Status</em></td>
    </tr>
    <tr>
      <td>PayPal Transactions Order Status</td>
      <td>PayPal transactions are logged in this private order status level.</td>
      <td><em>PayPal [Transactions]</em></td>
    </tr>
    <tr>
      <td>Payment Zone</td>
      <td>If set, this payment method will only be available to orders made within the defined zone.</td>
      <td></td>
    </tr>
    <tr>
      <td>Gateway Server</td>
      <td>
        The gateway server to use for payment transactions.<br /><br />
        The <em>Live</em> server is for production use to receive payments from customers, and the <em>Sandbox</em> server is used to test transactions only.
      </td>
      <td><em>Live</em></td>
    </tr>
    <tr>
      <td>Verify SSL Certificate</td>
      <td>Verify PayPal's identity when API communication calls are sent.</td>
      <td><em>True</em></td>
    </tr>
    <tr>
      <td>Proxy Server</td>
      <td>Send API communication calls through this proxy server.</td>
      <td></td>
    </tr>
    <tr>
      <td>Debug E-Mail Address</td>
      <td>Send invalid transaction parameters to this e-mail address.</td>
      <td></td>
    </tr>
    <tr>
      <td>Sort Order</td>
      <td>The position to show the payment method on the checkout payment page against other available payment methods.</td>
      <td></td>
    </tr>
  </tbody>
</table>

<h2>Add-On Package</h2>

<p>The separate PayPal Payments Pro (Hosted Solution) Add-On package is available at:</p>

<p><a href="http://addons.oscommerce.com/info/9072" target="_blank">http://addons.oscommerce.com/info/9072</a></p>

<h2>Online Demonstration</h2>

<p>An online demonstration is available at:</p>

<p><a href="http://demo.oscommerce.com" target="_blank">http://demo.oscommerce.com</a></p>

<p><i>For the online demonstration, PayPal Payments Pro (Hosted Solution) has been configured with PayPal's Sandbox environment and requires a testing card number for purchases.</i></p>

<h2>Manual Installation (as an Add-On)</h2>

<p>After extracting the Add-On package, copy the files located in the <em>catalog</em> directory to your osCommerce installation directory on the server. The files must be copied in the correct directory structure as extracted from the Add-On package.</p>

<p>The file listing is as follows:</p>

<ul>
  <li>ext/modules/payment/paypal/hosted_checkout.php</li>
  <li>ext/modules/payment/paypal/paypal.com.crt</li>
  <li>ext/modules/payment/paypal/pro_hosted_ipn.php</li>
  <li>includes/languages/english/modules/payment/paypal_pro_hs.php</li>
  <li>includes/modules/payment/paypal_pro_hs.php</li>
</ul>

<p>The standard language definitions in English are provided in the Add-On package. For additional languages, copy the English language definition file to the appropriate language directory and open the file with a text editor to edit the language definitions. The location of the language definition file must be in:</p>

<ul>
  <li>includes/languages/<em>LANGUAGE</em>/modules/payment/paypal_pro_hs.php</li>
</ul>

<p>When the files have been copied to their appropriate locations, the payment module will be available on the Administration Tool -> Modules -> Payment -> Install Module page where it can be installed, or on the Administration Tool -> Modules -> Payment page if the module was already previously installed.</p>

<p>If the module was already previously installed, it is important to visit the module configuration page to make sure new parameters are automatically installed in the database.</p>

<h2>Changelog</h2>

<dl class="bulleted">
  <dt>v3.0 xx-May-2014</dt>
  <dd>Initial Release</dd>
</dl>
